!function(e,t){"function"==typeof define&&define.amd?define(["backbone"],t):"object"==typeof module&&module.exports?module.exports=t(require("backbone")):e.returnExports=t(e.Backbone)}(this,function(e){var t=function(t){function r(e,t,r,n,i){var o=!1,p="function"==typeof i;return"boolean"==typeof n&&n||!n?n=null:p=!0,(p||!t.hasOwnProperty(r))&&(Object.defineProperty(t,r,{get:i||function(){return e.get(r)},set:n||function(t){var n={};n[r]=t,e.set(n,e._propertyOptions[r])},enumerable:!0,configurable:!0}),o=!0),o}function n(e,t,n){if(n)for(var i in n)r(e,t,i)}function i(e,t,n,i){return r(this,this.properties,e,n,i)||1!==arguments.length?(t=t||{},this._propertyOptions[e]=t):t=this._propertyOptions[e],t}function o(e){e=e||this.attributes;var t=u(this,this.properties);n(this,t,e)}function p(e){var t=u(e,this);n(e,t,e._propertyOptions),n(e,t,e.defaults)}function u(e,r){var n;switch(t){case s:n=e;break;case a:default:n=r}return n}var s="model",a="facade";return e.Model.extend({initialize:function(){Object.defineProperty(this,"_propertyOptions",{value:this._propertyOptions||{},writable:!1,enumerable:!1,configurable:!1}),Object.defineProperty(this,"properties",{value:new p(this),writable:!1,enumerable:!1,configurable:!1})},properties:null,property:i,validateProperties:o,_propertyOptions:{}})}(null);return t});